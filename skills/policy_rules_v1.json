{
  "schema_version": "1.0",
  "policy_name": "policy_rules_v1",
  "entrypoint": "pipeline",
  "rules": [
    {
      "if": {
        "step": "pipeline",
        "status": "fail"
      },
      "then": {
        "run": "triage_and_patch"
      }
    },
    {
      "if": {
        "triage_classification_in": [
          "contract mismatch",
          "backend runtime"
        ]
      },
      "then": {
        "run": "backend_build"
      }
    },
    {
      "if": {
        "triage_classification": "frontend binding"
      },
      "then": {
        "run": "frontend_bind"
      }
    },
    {
      "if": {
        "after_targeted_step": true
      },
      "then": {
        "run": "pipeline"
      }
    }
  ],
  "stop_conditions": [
    {
      "step": "pipeline",
      "status": "pass"
    }
  ]
}
